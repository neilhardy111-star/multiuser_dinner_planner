<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Dinner Planner</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header>
    <h1>Welcome, {{ current_user.username }}!</h1>
    <a class="logout" href="/logout">Logout</a>
</header>

<div class="meals-container">
    {% for meal in meals %}
    <div class="meal-card">
        <h2>Week {{ meal.week }} - {{ meal.day }}</h2>
        <h3>{{ meal.name }}</h3>

        {% if meal.image %}
        <img src="{{ url_for('static', filename='uploads/' + meal.image) }}" alt="{{ meal.name }}" class="meal-img">
        {% endif %}

        <button class="show-ingredients-btn" onclick="toggleIngredients('ing-{{ meal.id }}')">Show Ingredients</button>
        <div class="ingredients-content" id="ing-{{ meal.id }}">
            {{ meal.ingredients }}
        </div>

        <div class="instructions">
            <strong>Instructions:</strong>
            <p>{{ meal.instructions }}</p>
        </div>
    </div>
    {% endfor %}
</div>

<script>
function toggleIngredients(id) {
    const elem = document.getElementById(id);
    elem.style.display = (elem.style.display === "block") ? "none" : "block";
}
</script>
</body>
</html>
